(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-311809be"],{"0a49":function(t,e,a){var i=a("9b43"),s=a("626a"),l=a("4bf8"),n=a("9def"),o=a("cd1c");t.exports=function(t,e){var a=1==t,r=2==t,c=3==t,u=4==t,d=6==t,p=5==t||d,f=e||o;return function(e,o,h){for(var b,m,g=l(e),v=s(g),x=i(o,h,3),_=n(v.length),k=0,y=a?f(e,_):r?f(e,0):void 0;_>k;k++)if((p||k in v)&&(b=v[k],m=x(b,k,g),t))if(a)y[k]=m;else if(m)switch(t){case 3:return!0;case 5:return b;case 6:return k;case 2:y.push(b)}else if(u)return!1;return d?-1:c||u?u:y}}},1169:function(t,e,a){var i=a("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"60b8":function(t,e,a){},7064:function(t,e,a){"use strict";var i=a("60b8"),s=a.n(i);s.a},"7c8f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"}),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"handle-input",attrs:{placeholder:"用户微信昵称(支持模糊查询)"},model:{value:t.nickName,callback:function(e){t.nickName=e},expression:"nickName"}}),a("el-button",{staticClass:"search jianju",attrs:{type:"primary",icon:"search"},on:{click:t.search}},[t._v("搜索")]),a("el-button",{staticClass:"search",attrs:{type:"primary",icon:"search"},on:{click:t.newsearch}},[t._v("重置")]),a("el-button",{staticClass:"search",attrs:{type:"primary",icon:"search"},on:{click:t.allpass}},[t._v("一键审核通过")])],1),a("div",{staticClass:"handle-box"}),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"user_id",label:"用户id",width:"100"}}),a("el-table-column",{attrs:{prop:"nickName",label:"微信昵称",width:"180"}}),a("el-table-column",{attrs:{prop:"goodsname",label:"商品名称",width:"200"}}),a("el-table-column",{attrs:{prop:"images",label:"商品图片",width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"logo",attrs:{src:t.row.images}})]}}])}),a("el-table-column",{attrs:{prop:"price",label:"商品积分",width:"80"}}),a("el-table-column",{attrs:{label:"发货地址",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.provinceName)+"、"+t._s(e.row.cityName)+"、"+t._s(e.row.countyName)+"、"+t._s(e.row.detailInfo))])]}}])}),a("el-table-column",{attrs:{prop:"postalCode",label:"邮政编码",width:"130"}}),a("el-table-column",{attrs:{prop:"telNumber",label:"电话号码",width:"170"}}),a("el-table-column",{attrs:{prop:"remarks",label:"备注",width:"170"}}),a("el-table-column",{attrs:{prop:"state",label:"发货状态",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(0==e.row.state?"未发货":1==e.row.state?"已经发货":"审核不通过"))])]}}])}),a("el-table-column",{attrs:{prop:"expressnumber",label:"发货备注",width:"180"}}),a("el-table-column",{attrs:{prop:"create_time",label:"兑换时间",width:"180"}}),a("el-table-column",{attrs:{label:"操作",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return 0==e.row.state?[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("审核通过发货")]),a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("审核不通过")])]:void 0}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.datapages},on:{"current-change":t.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:"未处理兑换全部设置为已经兑换",visible:t.allpassVisible,width:"15%"},on:{"update:visible":function(e){t.allpassVisible=e}}},[a("el-form",{ref:"form",attrs:{"label-width":"150px"}},[a("p",[t._v("确认将所有未处理兑换全部设置为已经兑换，处理后不可恢复！")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.allpassVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confirmallpass}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"兑换不通过",visible:t.delVisible,width:"25%"},on:{"update:visible":function(e){t.delVisible=e}}},[a("el-form",{ref:"form",attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"原因"}},[a("el-input",{attrs:{placeholder:"请输入兑换不通过原因"},model:{value:t.nopasstext,callback:function(e){t.nopasstext=e},expression:"nopasstext"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confirmdelete}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"审核通过发货",visible:t.editVisible,width:"20%"},on:{"update:visible":function(e){t.editVisible=e}}},[a("el-form",{ref:"form",attrs:{"label-width":"80px"}},[a("el-form-item",[a("el-radio-group",{model:{value:t.editdata.exchange_type,callback:function(e){t.$set(t.editdata,"exchange_type",e)},expression:"editdata.exchange_type"}},[a("el-radio",{attrs:{label:0}},[t._v("快递发货")]),a("el-radio",{attrs:{label:1}},[t._v("其他")])],1)],1),0==this.editdata.exchange_type?a("el-form-item",{attrs:{label:"快递单号"}},[a("el-input",{attrs:{placeholder:"请输入快递单号"},model:{value:t.editdata.expressnumber,callback:function(e){t.$set(t.editdata,"expressnumber",e)},expression:"editdata.expressnumber"}})],1):a("el-form-item",{attrs:{label:"奖励信息"}},[a("el-input",{attrs:{placeholder:"请奖励信息"},model:{value:t.editdata.expressnumber,callback:function(e){t.$set(t.editdata,"expressnumber",e)},expression:"editdata.expressnumber"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1)],1)},s=[],l=(a("7f7f"),a("d25f"),a("cadf"),a("551c"),a("097d"),{name:"basetable",data:function(){return{url:"./static/vuetable.json",tableData:[],cur_page:1,multipleSelection:[],del_list:[],editVisible:!1,form:{},nickName:null,idx:-1,delVisible:!1,imgVisible:!1,allpassVisible:!1,yulanimg:null,deleteid:"",datapages:0,editdata:{exchange_type:0,expressnumber:null},nopasstext:null}},created:function(){this.getData()},computed:{data:function(){var t=this;return this.tableData.filter(function(e){for(var a=0;a<t.del_list.length;a++)if(e.name===t.del_list[a].name){!0;break}})}},methods:{handleCurrentChange:function(t){this.cur_page=t,this.getData(t)},getData:function(){var t=this;this.url="configure/exchangelist/groupexchangelist";var e=localStorage.getItem("token");this.$axios.post(this.url,{pages:this.cur_page,token:e,nickName:this.nickName}).then(function(e){console.log("兑换列表信息",e),t.tableData=e.data.data,t.datapages=e.data.countnumber})},search:function(){this.getData()},newsearch:function(){this.nickName="",this.cur_page=1,this.datapages=0,this.getData()},allpass:function(){console.log("全部设置为审核通过"),this.allpassVisible=!0},confirmallpass:function(){var t=this,e={};e.token=localStorage.getItem("token"),this.$axios.post("configure/exchangelist/delivergoods",e).then(function(e){console.log("所有兑换处理成已经兑换接口返回",e),t.allpassVisible=!1,t.$message.success("操作成功"),t.getData()})},handleDelete:function(t,e){console.log("点击删除的id",e.id),this.deleteid=e.id,this.idx=t;var a=this.tableData[t];this.form=a,this.delVisible=!0},confirmdelete:function(){var t=this,e=(this.form,{});e.exchange_id=this.form.id,e.expressnumber=this.nopasstext,e.state=2,e.exchange_type=0,e.token=localStorage.getItem("token"),console.log("提交修改信息",e),this.$axios.post("configure/exchangelist/sendoutgoods",e).then(function(e){console.log("确认审核不通过返回数据",e),t.delVisible=!1,t.$message.success("操作成功"),t.getData()})},clickimg:function(t){console.log("点击图片",t.target.src),this.imgVisible=!0,this.yulanimg=t.target.src},handleEdit:function(t,e){console.log("点击编辑",e),this.idx=t;var a=this.tableData[t];this.form=a,this.editVisible=!0},saveEdit:function(){var t=this;console.log("保存编辑"),console.log(this.form),console.log(this.editdata),console.log("111111112333333"),this.editVisible=!1;var e={state:1};e.exchange_id=this.form.id,e.expressnumber=this.editdata.expressnumber,e.exchange_type=this.editdata.exchange_type,e.token=localStorage.getItem("token"),console.log("审核成功发货信息",e),this.$message.success("操作成功"),this.$axios.post("configure/exchangelist/sendoutgoods",e).then(function(e){console.log("审核成功发货返回数据",e),t.getData()})}}}),n=l,o=(a("7064"),a("2877")),r=Object(o["a"])(n,i,s,!1,null,"1914da4c",null);r.options.__file="Exlists.vue";e["default"]=r.exports},"7f7f":function(t,e,a){var i=a("86cc").f,s=Function.prototype,l=/^\s*function ([^ (]*)/,n="name";n in s||a("9e1e")&&i(s,n,{configurable:!0,get:function(){try{return(""+this).match(l)[1]}catch(t){return""}}})},cd1c:function(t,e,a){var i=a("e853");t.exports=function(t,e){return new(i(t))(e)}},d25f:function(t,e,a){"use strict";var i=a("5ca1"),s=a("0a49")(2);i(i.P+i.F*!a("2f21")([].filter,!0),"Array",{filter:function(t){return s(this,t,arguments[1])}})},e853:function(t,e,a){var i=a("d3f4"),s=a("1169"),l=a("2b4c")("species");t.exports=function(t){var e;return s(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!s(e.prototype)||(e=void 0),i(e)&&(e=e[l],null===e&&(e=void 0))),void 0===e?Array:e}}}]);